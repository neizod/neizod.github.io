---
title: FizzBuzz à¹à¸¥à¸°à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸šà¹ƒà¸™ Haskell
tags:
  - Haskell
  - Functional
  - Programming
  - Mathematics
  - Computer Science
  - Programming Interview Question
date: 2018-10-21 03:29:38 +0700
---

FizzBuzz à¸™à¹ˆà¸²à¸ˆà¸°à¹€à¸›à¹‡à¸™à¹‚à¸ˆà¸—à¸¢à¹Œà¸—à¸µà¹ˆà¸–à¸¹à¸à¸™à¸³à¸¡à¸²à¹ƒà¸Šà¹‰à¸à¸¶à¸à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸‚à¸µà¸¢à¸™à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸‚à¸±à¹‰à¸™à¸žà¸·à¹‰à¸™à¸à¸²à¸™ (à¸£à¸¹à¹‰à¸ˆà¸±à¸à¹à¸„à¹ˆ[à¸§à¸²à¸à¸¢à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ][syntax]à¹à¸¥à¸°à¸à¸²à¸£à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²à¸‡à¹ˆà¸²à¸¢à¹† à¹‚à¸”à¸¢à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸ˆà¸²à¸°à¸¥à¸¶à¸à¹„à¸›à¸—à¸µà¹ˆà¸­à¸±à¸¥à¸à¸­à¸£à¸´à¸—à¸¶à¸¡) à¸à¸±à¸™à¸¡à¸²à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹‚à¸ˆà¸—à¸¢à¹Œà¸«à¸™à¸¶à¹ˆà¸‡ à¸‹à¸¶à¹ˆà¸‡à¸–à¸²à¸¡à¹€à¸žà¸µà¸¢à¸‡à¹à¸„à¹ˆà¸§à¹ˆà¸²à¸•à¸±à¸§à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹€à¸«à¹‡à¸™à¸ˆà¸°à¸–à¸¹à¸à¹à¸›à¸¥à¸‡à¹€à¸›à¹‡à¸™à¸„à¸³à¸§à¹ˆà¸²à¸­à¸°à¹„à¸£? à¹‚à¸”à¸¢à¸¡à¸µà¸à¸Žà¸§à¹ˆà¸²à¸–à¹‰à¸²à¹€à¸¥à¸‚à¸™à¸±à¹‰à¸™à¸«à¸²à¸£à¸ªà¸²à¸¡à¸¥à¸‡à¸•à¸±à¸§à¸•à¸­à¸š Fizz à¸–à¹‰à¸²à¸«à¸²à¸£à¸«à¹‰à¸²à¸¥à¸‡à¸•à¸±à¸§à¸•à¸­à¸š Buzz à¸–à¹‰à¸²à¸«à¸²à¸£à¸¥à¸‡à¸•à¸±à¸§à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸™à¸—à¸±à¹‰à¸‡à¸„à¸¹à¹ˆà¸•à¸­à¸š FizzBuzz à¸«à¸£à¸·à¸­à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¸à¸Žà¸‚à¹‰à¸²à¸‡à¸•à¹‰à¸™à¹€à¸¥à¸¢à¸à¹‡à¸•à¸­à¸šà¸•à¸±à¸§à¹€à¸¥à¸‚à¹€à¸”à¸´à¸¡à¸à¸¥à¸±à¸šà¸„à¸·à¸™à¸¡à¸²

{: .oversized}
> | **number** | 1 | 2 | 3    | 4 | 5    | 6    | 7 | ... | 14 | 15       | 16 | ... |
> | **answer** | 1 | 2 | Fizz | 4 | Buzz | Fizz | 7 | ... | 14 | FizzBuzz | 16 | ... |

à¹€à¸£à¸²à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸à¹‰à¹‚à¸ˆà¸—à¸¢à¹Œà¸”à¹‰à¸§à¸¢à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹à¸™à¸§ à¸–à¹‰à¸²-à¹à¸¥à¹‰à¸§ à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢à¹† à¹€à¸Šà¹ˆà¸™à¸™à¸µà¹‰

``` haskell
fizzBuzz number
  | mod number 15 == 0 = "FizzBuzz"
  | mod number  3 == 0 = "Fizz"
  | mod number  5 == 0 = "Buzz"
  | otherwise          = show number
```

à¹„à¸”à¹‰à¹à¸„à¹ˆà¸™à¸µà¹‰à¸à¹‡à¸™à¹ˆà¸²à¸ˆà¸°à¸žà¸­à¹ƒà¸ˆà¸à¸±à¸šà¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¹à¸¥à¹‰à¸§ ... à¸ˆà¸™à¸à¸£à¸°à¸—à¸±à¹‰à¸‡à¸„à¸§à¸²à¸¡à¸­à¸¢à¸²à¸à¸£à¸¹à¹‰à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹€à¸„à¸²à¸°à¸›à¸£à¸°à¸•à¸¹ à¹€à¸žà¸£à¸²à¸°à¸”à¸±à¸™à¸™à¸¶à¸à¸­à¸­à¸à¸§à¹ˆà¸²à¸ à¸²à¸©à¸² Haskell à¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³[à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸š (composite function)][composite function] à¹à¸šà¸šà¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œà¹„à¸”à¹‰à¸”à¹‰à¸§à¸¢ à¸à¹‡à¹€à¸¥à¸¢à¸­à¸¢à¸²à¸à¹€à¸«à¹‡à¸™à¸§à¹ˆà¸² FizzBuzz à¹à¸šà¸šà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰à¸•à¸±à¸§à¹à¸›à¸£à¸¡à¸±à¸™à¸ˆà¸°à¹€à¸‚à¸µà¸¢à¸™à¸­à¸­à¸à¸¡à¸²à¸«à¸™à¹‰à¸²à¸•à¸²à¹à¸šà¸šà¹„à¸«à¸™?

---

à¸™à¸±à¹ˆà¸‡à¹† à¹€à¸”à¸´à¸™à¹† à¸„à¸´à¸”à¹„à¸›à¸‹à¸±à¸à¸žà¸±à¸à¸à¹‡à¸•à¸£à¸°à¸«à¸™à¸±à¸à¹„à¸”à¹‰à¸§à¹ˆà¸² à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸šà¹€à¸™à¸µà¹ˆà¸¢ à¸ˆà¸£à¸´à¸‡à¹† à¸¡à¸±à¸™à¸à¹‡à¸„à¸·à¸­à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹„à¸›à¹€à¸£à¸·à¹ˆà¸­à¸¢à¹† à¸‹à¸¶à¹ˆà¸‡à¸ˆà¸°à¸—à¸³à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸ªà¸¹à¸à¹€à¸ªà¸µà¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸•à¸±à¸§à¹à¸›à¸£ `number` à¸•à¸­à¸™à¹à¸£à¸à¸ªà¸¸à¸”à¹„à¸› (à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£) à¸—à¸²à¸‡à¹à¸à¹‰à¸„à¸·à¸­à¸•à¹‰à¸­à¸‡à¸«à¸²à¸—à¸²à¸‡à¸›à¸±à¹Šà¸¡à¸•à¸±à¸§à¹à¸›à¸£ `number` à¸­à¸­à¸à¸¡à¸²à¸«à¸¥à¸²à¸¢à¹† à¸Šà¸¸à¸” à¸„à¸³à¸™à¸§à¸“à¸•à¸±à¸§à¹à¸›à¸£à¹à¸•à¹ˆà¸¥à¸°à¸Šà¸¸à¸”à¸”à¹‰à¸§à¸¢à¸§à¸´à¸˜à¸µà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™ à¹à¸¥à¹‰à¸§à¸„à¹ˆà¸­à¸¢à¸£à¸§à¸¡à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹€à¸›à¹‡à¸™à¸„à¸³à¸•à¸­à¸š ...

à¸‹à¸¶à¹ˆà¸‡à¸¡à¸±à¸™à¸à¹‡à¸„à¸·à¸­ map-reduce à¸™à¸±à¹ˆà¸™à¹€à¸­à¸‡! à¹€à¸žà¸µà¸¢à¸‡à¹à¸•à¹ˆà¸•à¸­à¸™ map à¹€à¸£à¸²à¸—à¸³à¸à¸¥à¸±à¸šà¸‚à¹‰à¸²à¸‡à¸ˆà¸²à¸à¸›à¸£à¸à¸•à¸´ à¸„à¸·à¸­ map à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸Šà¸¸à¸”à¹€à¸”à¸µà¸¢à¸§à¹„à¸›à¸šà¸™à¸¥à¸´à¸ªà¸•à¹Œà¸‚à¸­à¸‡à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸—à¸µà¹ˆà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™à¹à¸—à¸™

à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¹‚à¸„à¹‰à¸”à¸—à¸µà¹ˆà¸„à¸²à¸”à¸§à¹ˆà¸²à¸ˆà¸°à¹„à¸”à¹‰ à¸à¹‡à¸„à¸§à¸£à¸¡à¸µà¸«à¸™à¹‰à¸²à¸•à¸²à¸›à¸£à¸°à¸¡à¸²à¸“à¸™à¸µà¹‰

``` haskell
fizzBuzz number = reduce f0 (map (`id` number) [f1, f2, f3, ...])
```

à¹à¸•à¹ˆà¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¹€à¸£à¸²à¸­à¸¢à¸²à¸à¹„à¸”à¹‰à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œà¹€à¸›à¹‡à¸™à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸š à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¸•à¹‰à¸­à¸‡à¸žà¸¢à¸²à¸¢à¸²à¸¡à¸”à¸¶à¸‡à¸•à¸±à¸§à¹à¸›à¸£ `number` à¸­à¸­à¸à¹„à¸›à¹„à¸§à¹‰à¸”à¹‰à¸²à¸™à¸‚à¸§à¸²à¸ªà¸¸à¸”à¸‚à¸­à¸‡à¸à¸²à¸£à¸›à¸£à¸°à¸à¸²à¸¨à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹ƒà¸«à¹‰à¹„à¸”à¹‰ à¸‹à¸¶à¹ˆà¸‡à¸à¹‡à¸—à¸³à¹„à¸”à¹‰à¸”à¹‰à¸§à¸¢à¸à¸²à¸£ `flip` à¹€à¸Šà¹ˆà¸™à¸™à¸µà¹‰

``` haskell
fizzBuzz number = reduce f0 (flip map [f1, f2, f3, ...] (`id` number))
```

à¹€à¸¡à¸·à¹ˆà¸­à¸•à¸±à¸§à¹à¸›à¸£à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸­à¸¢à¸¹à¹ˆà¸‚à¸§à¸²à¸ªà¸¸à¸”à¹à¸¥à¹‰à¸§ à¸à¹‡à¹€à¸£à¸µà¸¢à¸šà¹€à¸£à¸µà¸¢à¸‡à¸§à¸‡à¹€à¸¥à¹‡à¸šà¹ƒà¸«à¸¡à¹ˆà¸”à¹‰à¸§à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸šà¹€à¸‚à¹‰à¸²à¸¡à¸²à¸Šà¹ˆà¸§à¸¢ à¹‚à¸”à¸¢à¸ˆà¸±à¸”à¹ƒà¸«à¹‰à¸•à¸±à¸§à¹à¸›à¸£à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸à¸³à¸ˆà¸±à¸”à¸­à¸­à¸à¸¡à¸²à¸­à¸¢à¸¹à¹ˆà¸Šà¸±à¹‰à¸™à¸™à¸­à¸à¸ªà¸¸à¸” (à¹„à¸¡à¹ˆà¸•à¸´à¸”à¸§à¸‡à¹€à¸¥à¹‡à¸š)

``` haskell
fizzBuzz number = reduce f0 . flip map [f1, f2, f3, ...] . flip id $ number
```

à¸–à¸¶à¸‡à¸•à¸­à¸™à¸™à¸µà¹‰à¸à¹‡à¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸±à¸”à¸•à¸±à¸§à¹à¸›à¸£ `number` à¸—à¸´à¹‰à¸‡à¹„à¸”à¹‰à¸—à¸±à¹‰à¸‡à¸ªà¸­à¸‡à¸‚à¹‰à¸²à¸‡à¸‚à¸­à¸‡à¸ªà¸¡à¸à¸²à¸£

``` haskell
fizzBuzz = reduce f0 . flip map [f1, f2, f3, ...] . flip id
```

---

à¸–à¹‰à¸²à¸¡à¸­à¸‡à¸­à¸™à¸²à¸„à¸•à¹„à¸›à¹„à¸à¸¥à¹† à¸ˆà¸°à¸žà¸šà¸§à¹ˆà¸²à¹€à¸—à¸„à¸™à¸´à¸„à¸•à¸­à¸™ map à¸à¸¥à¸±à¸šà¸”à¹‰à¸²à¸™à¹€à¸›à¹‡à¸™à¸­à¸°à¹„à¸£à¸—à¸µà¹ˆà¹„à¸”à¹‰à¹ƒà¸Šà¹‰à¸šà¹ˆà¸­à¸¢à¸¡à¸²à¸ à¹à¸¥à¸°à¸¡à¸±à¸™à¸à¹‡à¸„à¸‡à¸ˆà¸°à¸ªà¸§à¸¢à¸à¸§à¹ˆà¸²à¸–à¹‰à¸²à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸‚à¸µà¸¢à¸™à¹€à¸›à¹‡à¸™à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸šà¹„à¸”à¹‰à¹€à¸Šà¹ˆà¸™à¸à¸±à¸™ à¸™à¸±à¹ˆà¸™à¸«à¸¡à¸²à¸¢à¸„à¸§à¸²à¸¡à¸§à¹ˆà¸²à¹€à¸£à¸²à¸­à¸²à¸ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸¥à¸±à¸‡à¸‚à¸­à¸‡à¸ªà¸¡à¸à¸²à¸£à¸‚à¹‰à¸²à¸‡à¸•à¹‰à¸™

``` haskell
distribute fs = flip map fs . flip id
```

à¹ƒà¸«à¹‰à¸à¸¥à¸²à¸¢à¹€à¸›à¹‡à¸™

``` haskell
distribute = flip (.) (flip id) . flip map
```

---

à¸–à¸¶à¸‡à¸•à¸­à¸™à¸™à¸µà¹‰à¸à¹‡à¹„à¸”à¹‰à¹€à¸§à¸¥à¸²à¸¡à¸²à¸­à¸­à¸à¹à¸šà¸šà¸à¸²à¸£ reduce à¹à¸¥à¸°à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸­à¸·à¹ˆà¸™à¹† à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡ à¸‹à¸¶à¹ˆà¸‡à¸«à¸™à¸¶à¹ˆà¸‡à¹ƒà¸™à¸—à¸²à¸‡à¹€à¸¥à¸·à¸­à¸à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™à¹„à¸›à¹„à¸”à¹‰à¸­à¸²à¸ˆà¸¡à¸µà¸«à¸™à¹‰à¸²à¸•à¸²à¸›à¸£à¸°à¸¡à¸²à¸“à¸™à¸µà¹‰

``` haskell
f1 :: Int -> String -- output Fizz, Buzz, or FizzBuzz; according to rules.
                    -- otherwise output empty string.
f2 :: Int -> String -- output the number in string (acted as default case).
f0 :: [String] -> String -- output first non-empty string, in other word:
                         -- output f1 if it has some value, otherwise f2.
fizzBuzz = reduce f0 . distribute [f1, f2]
```

à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆà¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¸„à¸‡à¸«à¸™à¸µà¹„à¸¡à¹ˆà¸žà¹‰à¸™à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ `f1` à¸‹à¸¶à¹ˆà¸‡à¹€à¸£à¸²à¸ˆà¸°à¹€à¸£à¸´à¹ˆà¸¡à¸žà¸´à¸ˆà¸²à¸£à¸“à¸²à¸ˆà¸²à¸à¹‚à¸ˆà¸—à¸¢à¹Œà¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¸‡à¹ˆà¸²à¸¢à¸—à¸µà¹ˆà¸•à¸£à¸§à¸ˆà¹à¸„à¹ˆà¸à¸²à¸£à¸«à¸²à¸£ 3 à¸¥à¸‡à¸•à¸±à¸§à¹€à¸žà¸µà¸¢à¸‡à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§ (à¸•à¸­à¸šà¹à¸„à¹ˆ Fizz) à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™à¹„à¸›à¹„à¸”à¹‰à¸à¹‡à¸„à¸·à¸­

``` haskell
f1 n = (["Fizz",""] !!) $ fromEnum $ not $ (== 0) $ (mod n 3)
```

à¹à¸•à¹ˆà¹‚à¸ˆà¸—à¸¢à¹Œà¸ˆà¸£à¸´à¸‡à¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸£à¸“à¸µà¹€à¸¥à¸‚ 5 à¸”à¹‰à¸§à¸¢ ... [à¸à¸²à¸£à¸›à¸±à¹Šà¸¡à¹‚à¸„à¹‰à¸”][copy-paste engineering] `f1` à¸­à¸­à¸à¸¡à¸²à¸­à¸µà¸à¸Šà¸¸à¸”à¹à¸¥à¹‰à¸§à¹à¸à¹‰à¸„à¹ˆà¸²à¹à¸„à¹ˆà¸šà¸²à¸‡à¸•à¸±à¸§à¹à¸›à¸£à¸„à¸‡à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¸—à¸²à¸‡à¹€à¸¥à¸·à¸­à¸à¸—à¸µà¹ˆà¸”à¸µà¸™à¸±à¸ à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¹€à¸£à¸²à¸ˆà¸°à¸—à¸³à¹€à¸Šà¹ˆà¸™à¸™à¸µà¹‰à¹à¸—à¸™

``` haskell
say word m n = ([word,""] !!) $ fromEnum $ not $ (== 0) $ (mod n m)
f1 = foldr1 (++) . distribute [say "Fizz" 3, say "Buzz" 5]
```

à¸ªà¸±à¸‡à¹€à¸à¸•à¸§à¹ˆà¸²à¸—à¸µà¹ˆà¸—à¹‰à¸²à¸¢à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ `say` à¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ `mod` à¸‹à¸¶à¹ˆà¸‡à¸£à¸±à¸š 2 à¸•à¸±à¸§à¹à¸›à¸£ à¹à¸•à¹ˆà¸à¸²à¸£à¸—à¸³à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸›à¸£à¸°à¸à¸­à¸šà¸™à¸±à¹‰à¸™à¸—à¸¸à¸à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™à¹à¸šà¸šà¸•à¸±à¸§à¹à¸›à¸£à¹€à¸”à¸µà¸¢à¸§ ... à¸•à¸£à¸‡à¸™à¸µà¹‰à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸Šà¹‰ `curry` à¸¡à¸²à¸Šà¹ˆà¸§à¸¢à¸¢à¸¸à¸šà¸•à¸±à¸§à¹à¸›à¸£à¸£à¸§à¸¡à¸à¸±à¸™à¹„à¸”à¹‰ (à¹à¸¥à¹‰à¸§à¸„à¹ˆà¸­à¸¢ `uncurry` à¹ƒà¸«à¹‰à¸à¸¥à¸±à¸šà¸¡à¸²à¹€à¸›à¹‡à¸™ 2 à¸•à¸±à¸§à¹à¸›à¸£à¹€à¸«à¸¡à¸·à¸­à¸™à¹€à¸”à¸´à¸¡)

``` haskell
index = fromEnum . not . (== 0)
say word = curry (([word,""] !!) . index . uncurry (flip mod))
```

à¹€à¸Šà¹ˆà¸™à¹€à¸”à¸´à¸¡ à¹€à¸£à¸²à¹ƒà¸Šà¹‰à¹€à¸—à¸„à¸™à¸´à¸„ `flip` à¸ˆà¸²à¸à¸•à¸­à¸™à¸•à¹‰à¸™à¸‚à¸­à¸‡à¸šà¸¥à¹‡à¸­à¸à¸™à¸µà¹‰à¹€à¸žà¸·à¹ˆà¸­à¸à¸³à¸ˆà¸±à¸”à¸•à¸±à¸§à¹à¸›à¸£ `word`

``` haskell
say = curry . flip (.) (index . uncurry (flip mod)) . (!!) . (:[""])
```

---

à¸¡à¸²à¸–à¸¶à¸‡à¸ˆà¸¸à¸”à¸™à¸µà¹‰à¸à¹‡à¹„à¸¡à¹ˆà¹€à¸«à¸¥à¸·à¸­à¸­à¸°à¹„à¸£à¸¢à¸²à¸à¹à¸¥à¹‰à¸§ à¹€à¸žà¸£à¸²à¸° `reduce f0` à¸™à¸±à¹‰à¸™à¸—à¸³à¹„à¸”à¹‰à¹‚à¸”à¸¢ `head . dropWhile null` à¸ªà¹ˆà¸§à¸™ `f2` à¸à¹‡à¸„à¸·à¸­à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ `show` à¸•à¸£à¸‡à¹† à¸™à¸±à¹ˆà¸™à¹€à¸­à¸‡

à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™ à¹‚à¸„à¹‰à¸”à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸‡à¹‰à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸•à¸±à¸§à¹à¸›à¸£à¹€à¸¡à¸·à¹ˆà¸­à¸›à¸£à¸°à¸à¸²à¸¨à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸¥à¸¢ à¸„à¸·à¸­

``` haskell
distribute :: [a -> b] -> a -> [b]
distribute = flip (.) (flip id) . flip map

index :: Int -> Int
index = fromEnum . not . (== 0)

say :: String -> Int -> Int -> String
say = curry . flip (.) (index . uncurry (flip mod)) . (!!) . (:[""])

rules :: Int -> String
rules = foldr1 (++) . distribute [say "Fizz" 3, say "Buzz" 5]

fizzBuzz :: Int -> String
fizzBuzz = head . dropWhile null . distribute [rules, show]
```

à¸­à¸¶à¸¡ ... à¸—à¸³à¹„à¸›à¸—à¸³à¹„à¸¡à¹€à¸™à¸µà¹ˆà¸¢ ðŸ˜‚

à¸›.à¸¥. à¸–à¹‰à¸²à¸­à¸¢à¸²à¸à¹„à¸”à¹‰à¸à¸Žà¹ƒà¸«à¸¡à¹ˆà¹† à¸à¹‡à¹à¸„à¹ˆà¹€à¸žà¸´à¹ˆà¸¡à¸¥à¸´à¸ªà¸•à¹Œ `rules` à¹€à¸Šà¹ˆà¸™ à¹€à¸¡à¸·à¹ˆà¸­à¹ƒà¸ªà¹ˆ `say "Up" 7` à¸„à¸³à¸•à¸­à¸šà¸šà¸²à¸‡à¸•à¸±à¸§à¸ˆà¸°à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™

{: .oversized}
> | **number** | 7  | 21     | 35     | 105        |
> | **answer** | Up | FizzUp | BuzzUp | FizzBuzzUp |


[composite function]: /2012/08/17/function-composition-in-programming.html

[syntax]: //en.wikipedia.org/wiki/Syntax
[copy-paste engineering]: //en.wikipedia.org/wiki/Copy_and_paste_programming
