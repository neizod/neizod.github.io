---
title: Code Jam 2018 ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏±‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
tags:
  - Competitive Programming
  - Google Code Jam
  - Python
date: 2018-04-08 18:34:16 +0700
---

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å[‡∏û‡∏•‡∏≤‡∏î‡∏ó‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢‡πÑ‡∏õ‡πÉ‡∏ô‡∏õ‡∏µ 2014][codejam 2014 qual] ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏ã‡∏±‡∏Å‡∏ó‡∏µ üòÇ

... ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏≠‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Code Jam ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏é‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏•‡∏¢‡πÅ‡∏ï‡πà‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏•‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏ã‡∏∂‡πà‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏ä‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏µ‡πâ ‡πÄ‡∏•‡∏¢‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà Python ‡∏ó‡∏µ‡πà‡∏ñ‡∏ô‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

---

## Saving The Universe Again

‡∏Ç‡πâ‡∏≠‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡πÅ‡∏£‡∏Å ‡πÅ‡∏Ñ‡πà‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏≠‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏ö‡∏ß‡∏Å‡∏û‡∏•‡∏±‡∏á‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ

$$
\text{damage} = a_0 2^0 + a_1 2^1 + a_2 2^2 + \dots + a_n 2^n
$$

‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡πà‡∏•‡∏∞ $a_i$ ‡∏Ñ‡∏∑‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `S` ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `C` ‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ì $i$ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á

‡∏ï‡πà‡∏≠‡∏°‡∏≤‡∏Å‡πá‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤ damage ‡∏°‡∏µ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ shield ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤? ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πà‡∏Å‡πá‡∏•‡∏î‡∏Ñ‡πà‡∏≤ $a_x; x = \max_{a_i \neq 0} i$ ‡∏•‡∏á‡πÑ‡∏õ‡∏´‡∏ô‡∏∂‡πà‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô $a_{x-1}$ ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÅ‡∏ó‡∏ô ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ damage ‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ shield ‡∏à‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á

``` python
def make_attack_group(instructions):
    ls = [0]
    for inst in instructions:
        if inst == 'S':
            ls[-1] += 1
        else:
            ls += [0]
    return ls

def min_swap(shield, instructions):
    attack_group = make_attack_group(instructions)
    if sum(attack_group) > shield:
        return 'IMPOSSIBLE'
    time_swap = 0
    while shield < sum(a*2**i for i, a in enumerate(attack_group)):
        if attack_group[-1] == 0:
            attack_group.pop()
        else:
            time_swap += 1
            attack_group[-1] -= 1
            attack_group[-2] += 1
    return time_swap

for case in range(int(input())):
    raw_shield, instructions = input().split()
    shield = int(raw_shield)
    answer = min_swap(shield, instructions)
    print('Case #{}: {}'.format(case+1, answer))
```

‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏Å‡∏≤‡∏£ hack ‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏•‡∏á‡∏°‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á hack ‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠ ‡∏ã‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡∏™‡∏π‡∏à‡∏ô‡πå‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ greedy stays ahead ‡∏Ñ‡∏£‡∏±‡∏ö

---

## Trouble Sort

‡∏ñ‡πâ‡∏≤ implement ‡∏ß‡∏¥‡∏ò‡∏µ‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ö‡∏≠‡∏Å ‡∏à‡∏∞‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô $O(n^2)$ ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô (‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡∏ó‡∏±‡∏ô‡∏Å‡πá‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà) ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏≤‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏•‡∏Å‡πÜ ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏≤‡∏£‡∏û‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ

```
                 swap    swap    swap
              v-------v-------v-------v-------
sequence = [ a0, a1, a2, a3, a4, a5, a6, a7, ..., an ]
                  ^-------^-------^-------^---
                     swap    swap    swap
```

‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ ‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏ó‡∏≥‡∏ô‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏µ‡πà

‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ö‡∏≠‡∏Å ‡∏à‡∏∂‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡∏ô‡∏±‡πà‡πâ‡∏ô‡πÄ‡∏≠‡∏á

‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏û‡∏≠ ‡∏à‡∏∞‡∏Å‡∏¥‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Ñ‡πà $O(n \log n)$ ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á ‡∏à‡∏∂‡∏á‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

``` python
from itertools import count

def trouble_sort(ls):
    ls[0::2] = sorted(ls[0::2])
    ls[1::2] = sorted(ls[1::2])
    return ls

def check_trouble_sort(ls):
    ls = trouble_sort(ls)
    for index, a, b in zip(count(), ls, ls[1:]):
        if a > b:
            return index
    return 'OK'

for case in range(int(input())):
    input()
    ls = [int(n) for n in input().split()]
    answer = check_trouble_sort(ls)
    print('Case #{}: {}'.format(case+1, answer))
```

---

## Go, Gopher!

‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏∏‡∏î‡∏û‡∏∑‡πâ‡∏ô 1 ‡∏ä‡πà‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Ç‡∏∏‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á 1 ‡πÉ‡∏ô 9 ‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏Ç‡∏∏‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏™‡∏ß‡∏¢‡πÜ ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πä‡∏∞‡πÜ ‡πÑ‡∏î‡πâ

‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏∏‡∏î‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏Ç‡∏ô‡∏≤‡∏î 3x3 ‡∏ä‡πà‡∏≠‡∏á‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ (‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏∏‡∏î‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥‡πÜ) ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∂‡∏á‡∏à‡∏±‡∏ö‡πÄ‡∏≠‡∏≤‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡πÉ‡∏´‡∏ç‡πà‡πÜ ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏õ

‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ [coupon collector's problem][] ‡∏°‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏∏‡∏î‡∏£‡∏π‡∏õ‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™‡∏ô‡∏µ‡πâ ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠

$$
\begin{align*}
\mathbf{E}(T)
&= \frac{n}{1} + \frac{n}{2} + \frac{n}{3} + \dots + \frac{n}{n} \\
&= \frac{9}{1} + \frac{9}{2} + \frac{9}{3} + \dots + \frac{9}{9} \\
&= 25.4607
\end{align*}
$$

‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ç‡∏∏‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î 200 ‡∏ä‡πà‡∏≠‡∏á ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏∏‡∏î‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 23 ‡∏£‡∏π‡∏õ ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ß‡πà‡∏≤‡∏Ç‡∏∏‡∏î 26 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏à‡∏∂‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏Ñ‡∏π‡∏ì‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏Ç‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 598 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏ã‡∏∂‡πà‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Ç‡∏∏‡∏î‡πÑ‡∏î‡πâ 1000 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÑ‡∏õ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏Ñ‡∏£‡∏∂‡πà‡∏á ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ã‡∏ß‡∏¢‡∏Ç‡∏∏‡∏î‡∏î‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥‡πÜ ‡∏à‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏ô‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏≠‡πÉ‡∏à‡πÄ‡∏ô‡∏≤‡∏∞ üòâ

``` python
def interact(size):
    x = 42
    y = 23
    holes_dug = set()
    while True:
        print(x, y)
        rx, ry = [int(n) for n in input().split()]
        if (rx, ry) == (-1, -1):
            exit(42)
        elif (rx, ry) == (0, 0):
            break
        holes_dug |= {(rx, ry)}
        if len(holes_dug) == 9:
            holes_dug.clear()
            y += 3

for case in range(int(input())):
    size = int(input())
    interact(size)
```

‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: Python ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏∂‡πà‡∏á `sys.stdout.flush` ‡∏Å‡πá‡∏û‡πà‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏î‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà

---

## Cubic UFO

‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏µ‡πâ‡πÄ‡∏Å‡∏µ‡∏¢‡∏à‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏•‡∏∞ ‡πÄ‡∏≠‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏ö‡∏ô‡πÑ‡∏ß‡∏ó‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÑ‡∏õ‡πÅ‡∏Å‡∏∞‡πÄ‡∏≠‡∏á‡∏•‡∏∞‡∏Å‡∏±‡∏ô‡∏ô‡∏∞ 555

{: .oversized .figure}
> ![](/images/algorithm/misc/cubic-ufo.jpg)
>
> ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏≤ UFO ‡πÄ‡∏°‡∏∑‡πà‡∏≠ UFO ‡∏´‡∏°‡∏∏‡∏ô‡∏ï‡∏≤‡∏°‡πÅ‡∏Å‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ

``` python
import math

def rotate(point, x_angle, z_angle):
    point = ( point[0],
              math.cos(x_angle) * point[1] - math.sin(x_angle) * point[2],
              math.sin(x_angle) * point[1] + math.cos(x_angle) * point[2], )
    point = ( math.cos(z_angle) * point[0] - math.sin(z_angle) * point[1],
              math.sin(z_angle) * point[0] + math.cos(z_angle) * point[1],
              point[2], )
    return point

def get_points_from_rotation(x_angle, z_angle):
    points = [(0.5, 0, 0), (0, 0.5, 0), (0, 0, 0.5)]
    return [rotate(point, x_angle, z_angle) for point in points]

def hexagon_shadow(angle):
    return 2**0.5 * math.cos(angle) + math.sin(angle)

def rotate_two_axis(area):
    lower = 0
    upper = math.atan(1/2**0.5)
    while True:
        angle = (lower+upper) / 2
        guess_area = hexagon_shadow(angle)
        if math.isclose(guess_area, area):
            break
        elif guess_area < area:
            lower = angle
        elif guess_area > area:
            upper = angle
    return math.radians(45), angle

def rotate_one_axis(area):
    angle = math.radians(45) - math.acos(area/2**0.5)
    return angle, 0

def compatible_points(area):
    if area <= 2**0.5:
        x_angle, z_angle = rotate_one_axis(area)
    else:
        x_angle, z_angle = rotate_two_axis(area)
    return get_points_from_rotation(x_angle, z_angle)

for case in range(int(input())):
    area = float(input())
    answers = compatible_points(area)
    print('Case #{}:'.format(case+1))
    for point in answers:
        print(' '.join(str(num) for num in point))
```

‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏ö‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ [rotation matrix][] (‡∏ã‡∏∂‡πà‡∏á‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞) ‡∏ñ‡πâ‡∏≤‡πÉ‡∏Ñ‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢ ‡πÑ‡∏õ‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå wiki ‡∏ô‡πà‡∏≤‡∏ï‡πâ‡∏ô‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡∏ô‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö

---

‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ rank ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏û‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß! ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏µ‡πÑ‡∏´‡∏ô‡πÜ ‡πÄ‡∏•‡∏¢ üôå

‡πÑ‡∏ß‡πâ‡∏•‡∏∏‡πâ‡∏ô‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏ö

‡∏õ.‡∏•. ‡πÇ‡∏î‡∏ô penalty ‡∏Ç‡πâ‡∏≠‡πÅ‡∏£‡∏Å‡πÑ‡∏õ 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞ server ‡πÄ‡∏≠‡πã‡∏≠ ‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢‡∏ô‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏î‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏õ ‡πÄ‡∏•‡∏¢‡∏Å‡∏î‡∏™‡πà‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏±‡∏ô‡∏ã‡πâ‡∏≥‡πÜ ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏±‡πà‡∏ô‡πÅ‡∏´‡∏•‡∏∞ üôÑ

‡∏õ.‡∏•.‡∏•. ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏≥ friend list ‡∏´‡∏≤‡∏¢ ‡∏≠‡∏î‡∏™‡πà‡∏≠‡∏á (‡∏á‡πà‡∏≤‡∏¢‡πÜ) ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà‡∏Å‡∏±‡∏ô‡∏°‡∏±‡πà‡∏á ‡πÅ‡∏ñ‡∏°‡∏¢‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏≤‡∏î‡∏π‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß üò≠

[codejam 2014 qual]: /2014/04/13/code-jam-2014-qualification.html
[coupon collector's problem]: //en.wikipedia.org/wiki/Coupon_collector%27s_problem
[rotation matrix]: //en.wikipedia.org/wiki/Rotation_matrix#In_three_dimensions
